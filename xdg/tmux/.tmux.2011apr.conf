#!/bin/sh
# vim:ft=sh:

tmux new-window -t "${SESSION}:1" "htop"

tmux new-window -t "${SESSION}:2" -c "${HOME}/contrib/vvv" \; \
  split-window -t "${SESSION}:2.0" -v \; \
  split-window -t "${SESSION}:2.0" -v "# sssh cor" \; \
  split-window -t "${SESSION}:2.0" -v "# sssh demo" \; \
  split-window -t "${SESSION}:2.0" -v \; \
  select-layout -t "${SESSION}:2" even-vertical
tmux send-keys -t "${SESSION}:2.0" "# vagrant up; sssh vagrant" C-m \; \
  send-keys -t "${SESSION}:2.1" "sssh aynrand" C-m \; \
  send-keys -t "${SESSION}:2.3" "ssh jupiter" C-m \; \
  send-keys -t "${SESSION}:2.4" "sssh centuria" C-m
tmux select-pane -t "${SESSION}:2.0"
tmux rename-window -t "${SESSION}:2" "Remotes"

tmux set-option -sa terminal-overrides ",tmux-256color:RGB"

CURRENT_PATH="/var/www/vhosts/startups-uncensored"
tmux new-window -t "${SESSION}:3" -c "${CURRENT_PATH}"
tmux split-window -h -l 112 -t "${SESSION}:3.0" -c "${CURRENT_PATH}" "tail -F /var/log/apache2/error.log | sed -r s#\\\\n#\\n#g" \; \
  split-window -v -p 66 -t "${SESSION}:3.1" -c "${CURRENT_PATH}" \; \
  split-window -v -p 50 -t "${SESSION}:3.2" -c "${CURRENT_PATH}"
tmux select-pane -t "${SESSION}:3.0"
tmux rename-window -t "${SESSION}:3" "Projects"
